(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1115:function(t,e){},1191:function(t,e){},1193:function(t,e){},1207:function(t,e){},1249:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return _}));n(73),n(59),n(72),n(37),n(123),n(60),n(124);var r,l=n(56),o=n(22),c=(n(100),n(971));function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function d(){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.b)();case 2:e=t.sent,r=new c.a(f({},e));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return r}},1254:function(t,e){},1260:function(t,e){},1267:function(t,e){},1275:function(t,e,n){"use strict";n.r(e);n(71);var r=n(807).a,l=n(97),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("button",{staticClass:"click",on:{click:function(e){return t.connect()}}},[t._v("Connect MetaMask")]),t._v(" "),""!==t.wallet?e("button",{staticClass:"click",on:{click:function(e){return t.signEvm()}}},[t._v("\n    Sign MetaMask\n  ")]):t._e(),t._v(" "),e("br"),t._v(" "),""!==t.wallet?e("span",[t._v("MetaMask wallet connected: "+t._s(t.wallet))]):t._e(),t._v(" "),e("br"),t._v(" "),t.signedMM?e("span",[t._v("Signature: "+t._s(t.signedMM))]):t._e(),t._v(" "),e("br"),t._v(" "),t.validMM?e("span",[t._v("Valid: "+t._s(t.validMM))]):t._e(),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),t._l(t.availableConnections,(function(n){return e("button",{key:n.identifier,staticClass:"connectButton",on:{click:function(e){return t.walletController.connect(n.type,n.identifier)}}},[e("span",{staticClass:"connectionName"},[t._v("Connect "+t._s(n.name)+" ")])])})),t._v(" "),t.states?e("div",["WALLET_CONNECTED"===t.states.status?e("button",{staticClass:"click",on:{click:function(e){return t.signTerra()}}},[t._v("\n      Sign Terra\n    ")]):t._e()]):t._e(),t._v(" "),t.states?e("div",["WALLET_CONNECTED"===t.states.status?e("div",{staticClass:"addrStart"},[t._v("\n      Terra wallet connected: "+t._s(t.states.wallets[0].terraAddress)+"\n    ")]):t._e()]):t._e(),t._v(" "),e("br"),t._v(" "),t.signedTerra?e("span",[t._v("Signature: "+t._s(t.signedTerra))]):t._e(),t._v(" "),e("br"),t._v(" "),t.validTerra?e("span",[t._v("Valid: "+t._s(t.validTerra))]):t._e()],2)}),[],!1,null,null,null);e.default=component.exports},790:function(t,e){},807:function(t,e,n){"use strict";(function(t){var r=n(35),l=(n(973),n(365),n(164)),o=n.n(l),c=n(971),v=n(1249),f=n(1276),d=n(42),w=n(1250);e.a={name:"IndexPage",data:function(){return{instance:null,wallet:"",walletController:null,subscription:null,availableConnections:null,availableInstallTypes:null,states:null,signedMM:null,signedTerra:null,validMM:null,validTerra:null}},created:function(){var t=this;void 0===Object(v.a)()?Object(v.b)().then((function(){t.walletController=Object(v.a)(),t.subscribeWallet()})):(this.walletController=Object(v.a)(),this.subscribeWallet())},beforeDestroy:function(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()},methods:{connect:function(){var t=this;window.web3=new this.$Web3(ethereum);try{window.ethereum.send("eth_requestAccounts").then((function(){console.log("This browser is supported for ethereum"),t.instance=new o.a(window.ethereum),t.instance.eth.getAccounts().then((function(e){t.wallet=e[0]}))}))}catch(t){return console.log(t),!1}},signEvm:function(){var e=this;this.instance.eth.personal.sign(this.instance.utils.fromUtf8("I am signing my one-time nonce: 12"),this.wallet,(function(n,r){if(n)throw new Error(n);console.log(r);var l=d.bufferToHex(t.from("I am signing my one-time nonce: 12","utf8")),address=w.recoverPersonalSignature({data:l,sig:r});console.log("Signature valid: "+(address.toLowerCase()===e.wallet.toLowerCase())),e.signedMM=r,e.validMM=address.toLowerCase()===e.wallet.toLowerCase()}))},signTerra:function(){var e=this;this.walletController.signBytes(t.from("Test")).then((function(n){console.log(n);var r=Object(c.c)(t.from("Test"),n.result);console.log("Signature valid: "+r),e.signedTerra=n.result.signature,e.validTerra=r}))},subscribeWallet:function(){var t=this;this.subscription=Object(f.a)([this.walletController.availableInstallTypes(),this.walletController.availableConnections(),this.walletController.states()]).subscribe((function(e){var n=Object(r.a)(e,3),l=n[0],o=n[1],c=n[2];t.availableInstallTypes=l,t.states=c;var v=o,i=v.findIndex((function(t){return"READONLY"===t.type}));i>-1&&v.splice(i,1),t.availableConnections=v}))},makeWalletWindowInvisible:function(){toggleWalletWindowVisibility(!1)}}}}).call(this,n(1).Buffer)}}]);